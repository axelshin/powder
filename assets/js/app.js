"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,r){function y(e,t,r){var n=t.split(" ");return n.forEach(function(t){return e.forEach(function(e){return e.addEventListener(t,r)})}),function(){return n.forEach(function(t){return e.forEach(function(e){e.removeEventListener(t,r)})})}}function v(){return/Mobi|Android/i.test(navigator.userAgent)}function p(e){for(var t=0;t+=e.offsetTop||0,e=e.offsetParent;);return t}r.r(t);addEventListener("DOMContentLoaded",function(){function t(){clearInterval(o),u=!(a=null)}var r,n,o,a,e,i,c,u,l,s,d;function f(e,t){d=e.currentTarget,s!==t&&(s&&m(),t.classList.add("_buy-card_shown"),s=t,setTimeout(function(){return document.addEventListener("click",_)},0))}function _(e){s.contains(e.target)&&!d.contains(e.target)||m()}function m(){s&&(s.classList.remove("_buy-card_shown"),s=null),document.removeEventListener("click",_)}(function(){var e=document.querySelector("[data-lazy-container]");if(!e)return console.error('Скрипт инициализирован, но элемента с атрибутом "data-lazy-container" найдено небыло');if(!(a=e.dataset.lazyMedias))return console.error("У контейнера отсутствуют медиазапросы");var t,o=!(!(t=document.createElement("canvas")).getContext||!t.getContext("2d"))&&0==t.toDataURL("image/webp").indexOf("data:image/webp"),a=a.split(",").map(function(e){return e.trim()}).filter(function(e){return!!e}).map(function(e){return"("+e+")"}),i=e.dataset.lazyOffset||0,r=_toConsumableArray(e.querySelectorAll("[data-lazy-element]")).map(function(e){var r,t=e.dataset.lazyFolder||"",n=e.dataset.lazyNames;if(n)return n=n.split("*").map(function(e){return e.trim()}).filter(function(e){return!!e}).map(function(e){return e.split(",").map(function(e){return e.trim()}).filter(function(e){return!!e})}).map(function(e){return e[1]||(e[1]=e[0]),e[0]=t+e[0],e[1]=t+e[1],e}),r={image_data:[],node:e},a.forEach(function(e,t){t=n[t]||n[n.length-1],t=o?t[1]:t[0];r.image_data.push({media:e,image:t})}),r.check=function(){scrollY+innerHeight>=this.start&&(this.loaded=!0,this.connect())},r.connect=function(){"IMG"===this.node.tagName||"VIDEO"===this.node.tagName?this.node.src=this.currentData.image:this.node.style.backgroundImage="url("+this.currentData.image+")",this.last_load_data=this.currentData},r.resize=function(){var t=this;this.loaded||(this.start=p(this.node)+i*innerHeight),this.image_data.forEach(function(e){matchMedia(e.media).matches&&(t.currentData=e,t.loaded&&t.currentData!==t.last_load_data&&t.connect())})},e.removeAttribute("data-lazy-folder"),e.removeAttribute("data-lazy-element"),e.removeAttribute("data-lazy-names"),r}),n=(e.removeAttribute("data-lazy-container"),e.removeAttribute("data-lazy-medias"),e.removeAttribute("data-lazy-offset"),_toConsumableArray(r));function c(){for(var e=n.length-1;0<=e;e--){var t=n[e];t.check(),t.loaded&&n.splice(e,1)}}function u(){r.forEach(function(e){return e.resize()})}u(),c(),addEventListener("resize",u),addEventListener("scroll",c)})(),document.querySelectorAll("._buy-card").forEach(function(t){var r,n,o,a=t.querySelector("._buy-card__toggle-button");function e(){var e=v()?"mobile":"desktop";o!=e&&(n&&n(),r&&r(),"mobile"==e?r=y([a],"click",function(e){return f(e,t)}):"desktop"==e&&(n=y([a],"mouseenter",function(e){return f(e,t)})),o=e)}addEventListener("resize",e),e()}),(l=document.querySelector("._appearance__toggle-box__button"))&&(r=document.querySelector("._appearance__toggle-box__desc"),n=document.querySelectorAll("._appearance__box__image"),i=0,c=n.length-1,u=!0,l.addEventListener("click",function(){u&&(e=e?(u=!1,n[c].classList.remove("_appearance__box__image_active"),n[c].addEventListener("transitionend",function e(){o=setInterval(function(){if(n[i].style.opacity=1,a&&(a.style.opacity=0),a=n[i],n[c].style.opacity=c-i<2?1:0,0==i)return l.classList.remove("_appearance__toggle-box__button_active"),r.classList.remove("_appearance__toggle-box__desc_active"),t();i--},100),n[c].removeEventListener("transitionend",e)}),!1):(l.classList.add("_appearance__toggle-box__button_active"),r.classList.add("_appearance__toggle-box__desc_active"),u=!1,o=setInterval(function(){if(n[i].style.opacity=1,c-i<2&&(n[c].style.opacity=1),a&&0<c-i&&(a.style.opacity=0),a=n[i],i==c)return n[c].classList.add("_appearance__box__image_active"),t();i++},100),!0))})),document.querySelectorAll("._effects__list__item__video-box").forEach(function(e){var t=e.querySelector("._effects__list__item__video-box__video"),r=e.querySelector("._effects__list__item__video-box__preview");function n(){r.classList.add("_effects__list__item__video-box__preview_hidden"),t.play()}e.addEventListener("mouseenter",n),e.addEventListener("click",n),e.addEventListener("mouseleave",function(){r.classList.remove("_effects__list__item__video-box__preview_hidden"),t.pause()})}),document.querySelectorAll("[data-video-src]").forEach(function(t){var r,n=t.parentElement,o=t.dataset.videoSrc.split(",").map(function(e){return e.trim()}).filter(function(e){return!!e});function e(){var e=v()?"mobile":"desktop";e!==r&&("mobile"==e?t.src=o[1]:"desktop"==e&&(t.src=o[0]),n.load(),r=e)}addEventListener("resize",e),e(),t.removeAttribute("data-video-src")}),document.querySelectorAll("[data-observe]").forEach(function(e){var t=0,r=e.dataset.observe.split(" ").map(function(e){return e.trim()}).filter(function(e){return!!e}),n=r[0]||"",o=+r[1]||0;function a(){t=p(e)-innerHeight+innerHeight*o}function i(){scrollY>t&&(e.classList.add(n),removeEventListener("resize",a),removeEventListener("scroll",scroll))}e.removeAttribute("data-observe"),a(),i(),addEventListener("resize",a),addEventListener("scroll",i)}),document.querySelectorAll("[data-scroll-to]").forEach(function(e){var t,r,n=e.dataset.scrollTo,o=document.querySelector(n);o&&(t=e.dataset.scrollToOffset||0,t=(t=isNaN(t)?document.querySelector(t):t)||0,r=document.querySelector(".layout-header").clientHeight,e.addEventListener("click",function(){var e=isNaN(t)?-t.getBoundingClientRect().height:innerHeight*t;window.scroll({top:p(o)+e+20-r,left:0,behavior:"smooth"})}))})})}]);